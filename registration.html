<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Invitation Page</title>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
</head>

<body>
    <header>
        <div class="top">
            <a class="logo" href="index.html">CapellaVolunteers<span class="dotcom">.org</span></a>
        </div>
        <nav>
            <ul class="topnav">
                <li><a href="index.html">Home</a>
                </li>
                <li><a href="invitation.html">Invitation</a>
                </li>
                <li><a href="gallery.html">Gallery</a>
                </li>
                <li><a href="registration.html" class="active">Registration</a>
                </li>
            </ul>

        </nav>
    </header>
    <section>
        <form action="interests.html" id="pageForm">
		
            <label for="userName">Username:</label>
            <input type="text" name="userName" placeholder="Enter your Username" id="userName" />
            <div id="userNameHelp"></div>
            

            <label for="Password">Password:
            </label>
            <input type="password" name="password" placeholder="Enter your Password" id="Password" />
            <div id="PasswordHelp"></div>


            <label for="passwordVerify">Verify your Password:
            </label>
            <input type="password" name="passwordVerify" placeholder="Enter in your Password again" id="passwordVerify" />
            <div id="passwordVerifyHelp"></div>


            <label for="firstName">First Name:
            </label>
            <input type="text" name="firstName" placeholder="Enter your First Name" id="firstName" />
            <div id="firstNameHelp"></div>


            <label for="lastName">Last Name:
            </label>
            <input type="text" name="lastName" placeholder="Enter your Last Name" id="lastName" />
            <div id="lastNameHelp"></div>


            <label for="email">Email:
            </label>
            <input type="text" name="email" placeholder="Enter your Email Address" id="email" />
            <div id="emailHelp"></div>


            <label for="phoneNumber">Phone Number
            </label>
            <input type="text" name="phoneNumber" placeholder="Enter your Phone Number" id="phoneNumber" />
            <div id="phoneNumberHelp"></div>


            <label for="signUpNewsletter">Sign up for newsletter:
            </label>
            <input type="radio" name="signUpNewsletter" value="Yes" checked> Yes
            <input type="radio" name="signUpNewsletter" value="No"> No
            <input type="submit" value="Next step">

        </form>
    </section>

    <footer>This events site is for IT-FP3215 tasks.
    </footer>


    <script>
        /*
    1) Add listeners to all fields so that the content is checked when the user leaves the field (onblur).
    2) Add a final check when the "Next Step" button is clicked.
    3) Have a function for each field to be checked

    */

        // Check the username entry....
        function checkUserName() {
            console.log("Checking User Name");

            // Getting the value from the field
            let val = document.getElementById('userName').value;

            // trimming any beginning or ending spaces
            val = val.trim();

            // allow only letters and numbers
            let pattern = /^[0-9a-zA-Z]+$/

            // check to see if the entered value (val) matches the pattern
            let ok = pattern.test(val);

             if (!ok) {
                document.getElementById('userName').value = "";
                document.getElementById('userNameHelp').innerHTML = "Please enter only numbers and letters for the username.";
                document.getElementById('userName').focus();
            } else {
              document.getElementById('userNameHelp').innerHTML = "";
            }
			return ok
        }


        //start a new function here
        // Check the Password entry....must be a minimum 8 characters
        function checkPassword() {
            console.log("Checking Password");

            // Getting the value from the field
            let val = document.getElementById('Password').value;

            if (val.length < 8) {
                document.getElementById('Password').value = "";
                document.getElementById ("PasswordHelp").innerHTML="Please enter a minimum of 8 characters."
                document.getElementById('Password').focus();
            } else {
              document.getElementById('PasswordHelp').innerHTML = "";
            }
			return !(val.length<8)
        }


        //start a new function here
        // PasswordVerify ensure this matches password.
        function passwordVerify() {
            console.log("Verify Password");

            // Getting the value from the field
            let val = document.getElementById('passwordVerify').value;
            let val1 = document.getElementById('Password').value;
            //below will see if the values do not match
            if (val !== val1) {
                document.getElementById('passwordVerify').value = "";
                 document.getElementById ("passwordVerifyHelp").innerHTML="Please make values match.";
                } else {
              document.getElementById('passwordVerifyHelp').innerHTML = "";
            }
			return val === val1
        }


        function checkfirstName() {
            console.log("Verify firstName");

            let val = document.getElementById('firstName').value;
            // trimming any beginning or ending spaces
            val = val.trim();

            // allow only letters
            let pattern = /^[a-zA-Z]+$/

            // check to see if the entered value (val) matches the pattern
            let ok = pattern.test(val);

            if (!ok) {
                document.getElementById('firstName').value = "";
                 document.getElementById ("firstNameHelp").innerHTML="Please enter only letters.";
                document.getElementById('firstName').focus();
                   } else {
              document.getElementById('firstNameHelp').innerHTML = "";
            }
			return ok
        }
        

        function checklastName() {
            console.log("Verify lastName");

            let val = document.getElementById('lastName').value;
            // trimming any beginning or ending spaces
            val = val.trim();

            // allow only letters
            let pattern = /^[a-zA-Z]+$/

            // check to see if the entered value (val) matches the pattern
            let ok = pattern.test(val);

            if (!ok) {
                document.getElementById('lastName').value = "";
                document.getElementById ("lastNameHelp").innerHTML="Please enter only letters";
                document.getElementById('lastName').focus();
                  } else {
              document.getElementById('lastNameHelp').innerHTML = "";
            }
			return ok
        }

        function checkemail() {
            console.log("Verify email");

            let val = document.getElementById('email').value;
            // trimming any beginning or ending spaces
            val = val.trim();

            // allow only letters
            let pattern = /^[0-9a-zA-Z]+@[0-9a-zA-Z]+.[0-9a-zA-Z]+$/

            // check to see if the entered value (val) matches the pattern
            let ok = pattern.test(val);

            if (!ok) {
                document.getElementById('email').value = "";
                document.getElementById ("emailHelp").innerHTML="Please use a valid format.";
                document.getElementById('email').focus();
                } else {
              document.getElementById('emailHelp').innerHTML = "";
            }
			return ok
        }


        function checkphoneNumber() {
            console.log("Verify phoneNumber");

            let val = document.getElementById('phoneNumber').value;
            // trimming any beginning or ending spaces
            val = val.trim();

            //phone must be uses (xxx) xxx-xxxx

            //let pattern = /^[0-9a-zA-Z]+@[0-9a-zA-Z]+.[0-9a-zA-Z]+$/
            let pattern = /^\(\d{3}\)\s\d{3}-\d{4}/

            // check to see if the entered value (val) matches the pattern
            let ok = pattern.test(val);

            if (!ok) {
                document.getElementById('phoneNumber').value = "";
                document.getElementById ("phoneNumberHelp").innerHTML="Please use (xxx) xxx-xxxx";
                document.getElementById('phoneNumber').focus();
                 } else {
              document.getElementById('phoneNumberHelp').innerHTML = "";
            }
			return ok
        }

	let checked=false
        // Add listeners
       document.getElementById("pageForm").addEventListener("submit",function(event){
		if (!checked){
		event.preventDefault()
		if (!checkUserName()) {
			return;
		} else if (!checkPassword()) {
			return;
		}
		else if (!passwordVerify()) {
			return;
		}
			else if (!checkfirstName()) {
			return;
			}
			else if (!checklastName()) {
			return;
			}
				else if (!checkemail()) {
			return;
			}
				else if (!checkphoneNumber()) {
			return;
			}
			checked=true
			document.getElementById("pageForm").submit()
			}
	   })
	   </script>
</body>

</html>
